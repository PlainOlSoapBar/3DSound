<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>3DSound</title>
    <link rel="stylesheet" href="/styles.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>

  <body>
    <script type="module" src="/main.ts" defer></script>

    <!-- Upload audio -->
    <form class="upload-container" id="upload-form">
      <label for="choose-file" id="file-label">Choose audio file</label>
      <input type="file" id="choose-file" name="audio" accept="audio/*" hidden />
      <label for="upload-file">Upload</label>
      <input type="submit" id="upload-file" name="submit" hidden />
    </form>
  </body>

  <!-- Sets label as the chosen file's name -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const fileInput = document.getElementById('choose-file');
      const fileLabel = document.getElementById('file-label');

      fileInput.addEventListener('change', function () {
        if (fileInput.files && fileInput.files.length > 0) {
          fileLabel.textContent = fileInput.files[0].name;
        } else {
          fileLabel.textContent = 'Choose audio file';
        }
      });
    });
  </script>
</html>

<style>
  .upload-container {
    position: fixed;
    z-index: 10 !important;
    background-color: transparent;
    display: flex;
    gap: 0.5rem;
    padding: 0.5rem;
  }
  label {
    cursor: pointer;
    background-color: #2c2c2c;
    padding: 0.7rem;
    border-radius: 0.5rem;
    z-index: 10000;
  }
</style>
